#!/usr/bin/env perl
use strict;
use warnings;
use 5.010;

use Encode;

use YAML::PP::Parser;
my $parser = YAML::PP::Parser->new(
  receiver => sub {
    my ($self, $event, $content) = @_;
    $content = encode_utf8($content) if defined $content;
    say defined $content ? "$event $content" : $event;
  },
);

$parser->parse(do { local $/; <> });
